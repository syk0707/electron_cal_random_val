<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>Electron boilerplate</title>
	<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
</head>

<body style="min-width: 750px">
	<div class="container">
		<header class="mt-4">
			<h1>기어 계산</h1>
			<p></p>
		</header>
		<section class="main">
			<div class="input-group">
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">A 시작 기어 이빨갯수</span>
					</div>
					<input type="text" class="form-control" id="start_a_val" value="36" />
				</div>
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">B 시작 기어 이빨갯수</span>
					</div>
					<input type="text" class="form-control" id="start_b_val" value="64" />
				</div>
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">C 시작 기어 이빨갯수</span>
					</div>
					<input type="text" class="form-control" id="start_c_val" value="36" />
				</div>
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">D 시작 기어 이빨갯수</span>
					</div>
					<input type="text" class="form-control" id="start_d_val" value="64" />
				</div>
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">종료 기어 이빨갯수</span>
					</div>
					<input type="text" class="form-control" id="end_val" value="120" />
				</div>
				<div class="col-2">
					<div class="input-group-prepend">
						<span class="input-group-text">M</span>
					</div>
					<input type="text" class="form-control" id="m_val" value="1.305" />
				</div>
			</div>
			<div class="mt-3" style="float: right;">
				<button class="btn btn-primary btn-sm" onclick="getValue(); return false;">결과 확인</button>
			</div>

		</section>
		<section class="table mt-5">
			<div>총 갯수: <span id="totalCnt"></span></div>
			<table class="table">
				<thead>
				  <tr>
					<th scope="col">#</th>
					<th scope="col">A</th>
					<th scope="col">B</th>
					<th scope="col">C</th>
					<th scope="col">D</th>
				  </tr>
				</thead>
				<tbody id="totalTbody">
				</tbody>
			</table>
			<div id="totalText"></div>
		</section>
		<footer>

		</footer>
	</div>
	<script type="text/javascript">
		function getValue() {
			let a = parseInt(document.getElementById('start_a_val').value);
			let b = parseInt(document.getElementById('start_b_val').value);
			let c = parseInt(document.getElementById('start_c_val').value);
			let d = parseInt(document.getElementById('start_d_val').value);
			const endVal = parseInt(document.getElementById('end_val').value);
			const mVal = parseFloat(document.getElementById('m_val').value);
			let totalCnt = 0;
			let totalText = '';
			let totalTbody = '';
			console.log(`${endVal} ${mVal} ${a} ${b} ${c} ${d}`);
			for (let i = a; i <= endVal; i++) {
				for (let j = c; j <= endVal; j++) {
					for (let k = b; k <= endVal; k++) {
						for (let l = d; l <= endVal; l++) {
							// console.log(`${mVal} ${i} ${k} ${j} ${l} ${(i * k) / (j * l)}`);
							// console.log(`${(i * k) / (j * l)}`)
							// console.log(`${mVal}`)
							if ((i * j) / (k * l) == (mVal / 4)) {
								totalTbody += `<tr><th>${totalCnt + 1}</th><td>${i}</td><td>${k}</td><td>${j}</td><td>${l}</td></tr>`
								//totalText += `${totalCnt + 1}: ${i} ${k} ${j} ${l}\n`;
								totalCnt++;
							}
						}
					}
				}
			}
			console.log('totalCnt', totalCnt);
			document.getElementById('totalCnt').innerText = totalCnt;
			document.getElementById('totalTbody').innerHTML = totalTbody;
			console.log('finish');
		}
	</script>
</body>

</html>
